<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Linux & Ubuntu 折腾记录 | Woodencross's Cyber Home</title><meta name=keywords content="Linux,Ubuntu"><meta name=description content="Linux is free when your time is free"><meta name=author content="Woodencross"><link rel=canonical href=https://woodencross.github.io/posts/tech/linux-ubuntu-record/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.608cab73e2ab75aee05a3d7621ba32e8386a4f5fee7c5bdfc5d4deed80e1fcbe.css integrity="sha256-YIyrc+Krda7gWj12Iboy6DhqT1/ufFvfxdTe7YDh/L4=" rel="preload stylesheet" as=style><link rel=icon href=https://woodencross.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://woodencross.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://woodencross.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://woodencross.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://woodencross.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Linux & Ubuntu 折腾记录"><meta property="og:description" content="Linux is free when your time is free"><meta property="og:type" content="article"><meta property="og:url" content="https://woodencross.github.io/posts/tech/linux-ubuntu-record/"><meta property="og:image" content="https://woodencross.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-25T14:25:37+08:00"><meta property="article:modified_time" content="2022-03-29T14:55:00+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://woodencross.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Linux & Ubuntu 折腾记录"><meta name=twitter:description content="Linux is free when your time is free"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"文章","item":"https://woodencross.github.io/posts/"},{"@type":"ListItem","position":2,"name":"技术图书馆","item":"https://woodencross.github.io/posts/tech/"},{"@type":"ListItem","position":3,"name":"Linux \u0026 Ubuntu 折腾记录","item":"https://woodencross.github.io/posts/tech/linux-ubuntu-record/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Linux \u0026 Ubuntu 折腾记录","name":"Linux \u0026 Ubuntu 折腾记录","description":"Linux is free when your time is free","keywords":["Linux","Ubuntu"],"articleBody":"Why Linux \u0026 Ubuntu 因为Linux很酷✔\n之前折腾过一阵Manjaro，是一个arch系的滚动更新的系统，结果被我滚挂过两次😅。因为要装在实验室电脑上，寒暑假可能一段时间不会碰它，这就又加大了滚挂的概率，所以这次捯饬一下Ubuntu。顺便换个口味，由KDE Plasma换成Gnome桌面环境体验一下。\nP.S. 试了一下Pop!_OS，好看是确实好看，但是自带的商店应用会每次在联网打开时卡死，啊这。\n安装过程 使用ventoy做启动盘，很方便，iso选择Ubuntu 20.04 LTS。\n上来先用Windows11的cmd格一下盘，在安装界面shift+F10：\n1diskpart 2list disk 3select disk 0 4clean 之后开始安装，一路next。\n换源 软件和更新--Ubuntu软件--下载自，我选了阿里云镜像。然后执行：\n1sudo apt update 2sudo apt upgrade 来更新。\n魔法 选择v2raya，不便多说。用Linux还是得有魔法，或者就用deepin那种，毕竟主要的生态还是在国外的。\n家目录转英文 选择中文安装系统之后，家目录下默认为中文，这样使用终端很不方便，于是将其英文化。\n  终端输入\n1export LANG=en_US 2xdg-user-dirs-gtk-update 在弹窗中同意。\n  终端输入\n1export LANG=zh_CN   注销再登陆，选择保留旧名称，不再提醒。\n  输入法 Ubuntu自带的ibus使用体验不是很好，候选字体缩放等等都是问题，这次图省事就装了搜狗输入法Linux版，关掉悬浮窗还是很干净的。\n总的来说，Ubuntu的缩放和字体渲染做的都很不错，至此新系统已经可以正常使用啦。\n优化 虽然KDE桌面环境扩展度高，但是折腾到最后总是有一种零碎的感觉，gnome反而更像一个整体。\nGnome Tweaks 这是Gnome桌面的优化软件，用来调整一些外观。\n1sudo apt install gnome-tweaks 在扩展--Desktop Icons中关闭桌面文件夹和回收站图标。\nDock 在Gnome Extensions里安装Dash to Dock，调整图标大小为64，避开所有窗口，使用内置主题。\n字体 中文使用文泉驿米黑：\n1sudo apt install fonts-wqy-microhei 英文使用JetBrains Mono，下载后解压到~/.local/share/fonts（或/usr/share/fonts，安装为系统字体），并执行fc-cache -f -v。\n最后使用Gnome Tweaks来设置字体。\n主题 由于辣鸡显卡，装了自定义主题后总会出现贴图丢失的情况，所以就不搞自定义主题了，只改一下颜色，使用yaru-colors，clone下来之后sudo bash ./install.sh即可。我全部选择Aqua主题，比较清新。\n之后还需要改一下终端配色，在配置文件首选项里改成solarized-dark，与Aqua主题色也比较配。\nNote\n我的环境安装yaru-colors后出现图标变形错位的现象，卸载无法解决问题，请谨慎安装。参见Github issue。\nzsh \u0026 oh-my-zsh zsh，一个比默认的bash好用得多的shell，oh-my-zsh是zsh的一个框架，赋予其额外功能以及插件管理等。\n首先安装并切换默认shell为zsh:\n1sudo apt install zsh 2zsh # 进行初始设置，全按照默认即可 3chsh -s $(which zsh) # 切换默认shell 注意设置完后注销重新登陆。\n之后参照oh-my-zsh的指令安装oh-my-zsh:\n1sh -c \"$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\" 这一步需要魔法助力，没有魔法的话可以搜索使用gitee镜像。\n之后在~/.zshrc中更改配置，先改一下主题：\n1ZSH_THEME=\"eastwood\" 这个主题非常简约，深得我心。然后更改插件，在~/.zshrc中\n1plugins=(git) 说明oh-my-zsh默认开启git插件，后面自己配置插件就是下载好后填进括号里就行。介绍一下我安装的插件：\n  z 这个是默认装好的，需要自己开启，用处是根据历史快速跳转。比如之前访问过~/Downloads/game/pacman，再次访问的话只需z pacman即可。\n  zsh-syntax-highlighting 终端命令语法高亮显示。\n  zsh-autosuggestions 自动补全。\n  配置好后.zshrc是这样的：\n1plugins=(git z zsh-syntax-highlighting zsh-autosuggestions) fish shell fish是一个开箱即用的shell，几乎不需要自行配置。之前设置自定义终端颜色之后，与oh-my-zsh的颜色好像有点冲突，有时光标会不闪烁，很难受，于是改用了fish。\n1sudo apt install fish 2chsh -s $(which fish) Pop Shell Pop Shell来源于基于Ubuntu的Pop!_OS，拥有非常好用的窗口自动平铺功能，会按照打开窗口的先后顺序以斐波那契数列形式在桌面上自动平铺。当然如果你愿意折腾，也可以使用awesome、i3wm等。\n首先去下载它的release，之后安装TypeScript和Make：\n1sudo apt install node-typescript make 将release解压缩后在目录中执行\n1make local-install 安装完毕后，在右上角打开Tile Windows和Show Active Hint。\n清理启动引导项 因为来回装了不少系统，因此efi启动引导项非常多，正好今天查了查怎么删除：使用efibootmgr。\n1efibootmgr # 列出所有引导项 2efibootmgr -b xxxx -B # 删除序号为xxxx的引导项 后记 虽然说本文内容不多，但是前前后后也是折腾了好几天，其间遇到各种细节问题，不胜枚举。有句话说得好：“Linux is free when your time is free”，此番过后也是深以为然。话又说回来，虽然历经坎坷，但过程中获得的快乐与成就感不会骗人。我想这就值得了。😄\n","wordCount":"2014","inLanguage":"zh","datePublished":"2022-03-25T14:25:37+08:00","dateModified":"2022-03-29T14:55:00+08:00","author":{"@type":"Person","name":"Woodencross"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://woodencross.github.io/posts/tech/linux-ubuntu-record/"},"publisher":{"@type":"Organization","name":"Woodencross's Cyber Home","logo":{"@type":"ImageObject","url":"https://woodencross.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://woodencross.github.io/ accesskey=h title="Woodencross's Cyber Home (Alt + H)">Woodencross's Cyber Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://woodencross.github.io/posts/ title=文章><span>文章</span></a></li><li><a href=https://woodencross.github.io/archives/ title=时间线><span>时间线</span></a></li><li><a href=https://woodencross.github.io/tags/ title=标签><span>标签</span></a></li><li><a href=https://woodencross.github.io/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://woodencross.github.io/about/ title=关于><span>关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://woodencross.github.io/>主页</a>&nbsp;»&nbsp;<a href=https://woodencross.github.io/posts/>文章</a>&nbsp;»&nbsp;<a href=https://woodencross.github.io/posts/tech/>技术图书馆</a></div><h1 class=post-title>Linux & Ubuntu 折腾记录</h1><div class=post-description>Linux is free when your time is free</div><div class=post-meta>发表于<span title="2022-03-25 14:25:37 +0800 +0800">2022-03-25</span>&nbsp;·&nbsp;修改于<span title="2022-03-29 14:55:00 +0800 +0800">2022-03-29</span>&nbsp;·&nbsp;5 分钟&nbsp;·&nbsp;Woodencross</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#why-linux--ubuntu aria-label="Why Linux &amp;amp; Ubuntu">Why Linux & Ubuntu</a></li><li><a href=#%e5%ae%89%e8%a3%85%e8%bf%87%e7%a8%8b aria-label=安装过程>安装过程</a><ul><li><a href=#%e6%8d%a2%e6%ba%90 aria-label=换源>换源</a></li><li><a href=#%e9%ad%94%e6%b3%95 aria-label=魔法>魔法</a></li><li><a href=#%e5%ae%b6%e7%9b%ae%e5%bd%95%e8%bd%ac%e8%8b%b1%e6%96%87 aria-label=家目录转英文>家目录转英文</a></li><li><a href=#%e8%be%93%e5%85%a5%e6%b3%95 aria-label=输入法>输入法</a></li></ul></li><li><a href=#%e4%bc%98%e5%8c%96 aria-label=优化>优化</a><ul><li><a href=#gnome-tweaks aria-label="Gnome Tweaks">Gnome Tweaks</a></li><li><a href=#dock aria-label=Dock>Dock</a></li><li><a href=#%e5%ad%97%e4%bd%93 aria-label=字体>字体</a></li><li><a href=#%e4%b8%bb%e9%a2%98 aria-label=主题>主题</a></li><li><a href=#zsh--oh-my-zsh aria-label="zsh &amp;amp; oh-my-zsh">zsh & oh-my-zsh</a></li><li><a href=#fish-shell aria-label="fish shell">fish shell</a></li><li><a href=#pop-shell aria-label="Pop Shell">Pop Shell</a></li><li><a href=#%e6%b8%85%e7%90%86%e5%90%af%e5%8a%a8%e5%bc%95%e5%af%bc%e9%a1%b9 aria-label=清理启动引导项>清理启动引导项</a></li></ul></li><li><a href=#%e5%90%8e%e8%ae%b0 aria-label=后记>后记</a></li></ul></div></details></div><div class=post-content><h2 id=why-linux--ubuntu>Why Linux & Ubuntu<a hidden class=anchor aria-hidden=true href=#why-linux--ubuntu>#</a></h2><p>因为Linux很酷✔</p><p>之前折腾过一阵Manjaro，是一个arch系的滚动更新的系统，结果被我滚挂过两次😅。因为要装在实验室电脑上，寒暑假可能一段时间不会碰它，这就又加大了滚挂的概率，所以这次捯饬一下Ubuntu。顺便换个口味，由KDE Plasma换成Gnome桌面环境体验一下。</p><p>P.S. 试了一下Pop!_OS，好看是确实好看，但是自带的商店应用会每次在联网打开时卡死，啊这。</p><h2 id=安装过程>安装过程<a hidden class=anchor aria-hidden=true href=#安装过程>#</a></h2><p>使用<a href=https://www.ventoy.net/cn/index.html>ventoy</a>做启动盘，很方便，iso选择Ubuntu 20.04 LTS。</p><p>上来先用Windows11的cmd格一下盘，在安装界面<code>shift+F10</code>：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmd data-lang=cmd><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>diskpart
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2</span><span>list disk
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">3</span><span>select disk 0
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">4</span><span>clean
</span></span></code></pre></div><p>之后开始安装，一路next。</p><h3 id=换源>换源<a hidden class=anchor aria-hidden=true href=#换源>#</a></h3><p><code>软件和更新-->Ubuntu软件-->下载自</code>，我选了阿里云镜像。然后执行：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>sudo apt update
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2</span><span>sudo apt upgrade
</span></span></code></pre></div><p>来更新。</p><h3 id=魔法>魔法<a hidden class=anchor aria-hidden=true href=#魔法>#</a></h3><p>选择v2raya，不便多说。用Linux还是得有魔法，或者就用deepin那种，毕竟主要的生态还是在国外的。</p><h3 id=家目录转英文>家目录转英文<a hidden class=anchor aria-hidden=true href=#家目录转英文>#</a></h3><p>选择中文安装系统之后，家目录下默认为中文，这样使用终端很不方便，于是将其英文化。</p><ol><li><p>终端输入</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span><span style=color:#b58900>export</span> <span style=color:#268bd2>LANG</span><span style=color:#719e07>=</span>en_US
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2</span><span>xdg-user-dirs-gtk-update
</span></span></code></pre></div><p>在弹窗中同意。</p></li><li><p>终端输入</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span><span style=color:#b58900>export</span> <span style=color:#268bd2>LANG</span><span style=color:#719e07>=</span>zh_CN
</span></span></code></pre></div></li><li><p>注销再登陆，选择保留旧名称，不再提醒。</p></li></ol><h3 id=输入法>输入法<a hidden class=anchor aria-hidden=true href=#输入法>#</a></h3><p>Ubuntu自带的ibus使用体验不是很好，候选字体缩放等等都是问题，这次图省事就装了<a href=https://pinyin.sogou.com/linux/help.php>搜狗输入法Linux版</a>，关掉悬浮窗还是很干净的。</p><p>总的来说，Ubuntu的缩放和字体渲染做的都很不错，至此新系统已经可以正常使用啦。</p><h2 id=优化>优化<a hidden class=anchor aria-hidden=true href=#优化>#</a></h2><p>虽然KDE桌面环境扩展度高，但是折腾到最后总是有一种零碎的感觉，gnome反而更像一个整体。</p><h3 id=gnome-tweaks>Gnome Tweaks<a hidden class=anchor aria-hidden=true href=#gnome-tweaks>#</a></h3><p>这是Gnome桌面的优化软件，用来调整一些外观。</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>sudo apt install gnome-tweaks
</span></span></code></pre></div><p>在<code>扩展-->Desktop Icons</code>中关闭桌面文件夹和回收站图标。</p><h3 id=dock>Dock<a hidden class=anchor aria-hidden=true href=#dock>#</a></h3><p>在<a href=https://extensions.gnome.org>Gnome Extensions</a>里安装Dash to Dock，调整图标大小为64，避开所有窗口，使用内置主题。</p><h3 id=字体>字体<a hidden class=anchor aria-hidden=true href=#字体>#</a></h3><p>中文使用文泉驿米黑：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>sudo apt install fonts-wqy-microhei
</span></span></code></pre></div><p>英文使用<a href=https://www.jetbrains.com/lp/mono/>JetBrains Mono</a>，下载后解压到<code>~/.local/share/fonts</code>（或<code>/usr/share/fonts</code>，安装为系统字体），并执行<code>fc-cache -f -v</code>。</p><p>最后使用Gnome Tweaks来设置字体。</p><h3 id=主题>主题<a hidden class=anchor aria-hidden=true href=#主题>#</a></h3><p>由于辣鸡显卡，装了自定义主题后总会出现贴图丢失的情况，所以就不搞自定义主题了，只改一下颜色，使用<a href=https://github.com/Jannomag/Yaru-Colors>yaru-colors</a>，clone下来之后<code>sudo bash ./install.sh</code>即可。我全部选择Aqua主题，比较清新。</p><p>之后还需要改一下终端配色，在配置文件首选项里改成<code>solarized-dark</code>，与Aqua主题色也比较配。</p><p><strong>Note</strong></p><p>我的环境安装yaru-colors后出现图标变形错位的现象，卸载无法解决问题，请谨慎安装。参见<a href=https://github.com/Jannomag/Yaru-Colors/issues/111>Github issue</a>。</p><h3 id=zsh--oh-my-zsh>zsh & oh-my-zsh<a hidden class=anchor aria-hidden=true href=#zsh--oh-my-zsh>#</a></h3><p>zsh，一个比默认的bash好用得多的shell，oh-my-zsh是zsh的一个框架，赋予其额外功能以及插件管理等。</p><p>首先安装并切换默认shell为zsh:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>sudo apt install zsh
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2</span><span>zsh <span style=color:#586e75># 进行初始设置，全按照默认即可</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">3</span><span>chsh -s <span style=color:#719e07>$(</span>which zsh<span style=color:#719e07>)</span> <span style=color:#586e75># 切换默认shell</span>
</span></span></code></pre></div><p>注意设置完后注销重新登陆。</p><p>之后参照<a href=https://ohmyz.sh>oh-my-zsh</a>的指令安装oh-my-zsh:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>sh -c <span style=color:#2aa198>&#34;</span><span style=color:#719e07>$(</span>curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span style=color:#719e07>)</span><span style=color:#2aa198>&#34;</span>
</span></span></code></pre></div><p>这一步需要魔法助力，没有魔法的话可以搜索使用gitee镜像。</p><p>之后在<code>~/.zshrc</code>中更改配置，先改一下主题：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>ZSH_THEME=&#34;eastwood&#34;
</span></span></code></pre></div><p>这个主题非常简约，深得我心。然后更改插件，在<code>~/.zshrc</code>中</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>plugins=(git)
</span></span></code></pre></div><p>说明oh-my-zsh默认开启git插件，后面自己配置插件就是下载好后填进括号里就行。介绍一下我安装的插件：</p><ol><li><p>z
这个是默认装好的，需要自己开启，用处是根据历史快速跳转。比如之前访问过<code>~/Downloads/game/pacman</code>，再次访问的话只需<code>z pacman</code>即可。</p></li><li><p>zsh-syntax-highlighting
终端命令语法高亮显示。</p></li><li><p>zsh-autosuggestions
自动补全。</p></li></ol><p>配置好后<code>.zshrc</code>是这样的：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>plugins=(git z zsh-syntax-highlighting zsh-autosuggestions)
</span></span></code></pre></div><h3 id=fish-shell>fish shell<a hidden class=anchor aria-hidden=true href=#fish-shell>#</a></h3><p>fish是一个开箱即用的shell，几乎不需要自行配置。之前设置自定义终端颜色之后，与oh-my-zsh的颜色好像有点冲突，有时光标会不闪烁，很难受，于是改用了fish。</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>sudo apt install fish
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2</span><span>chsh -s <span style=color:#719e07>$(</span>which fish<span style=color:#719e07>)</span>
</span></span></code></pre></div><h3 id=pop-shell>Pop Shell<a hidden class=anchor aria-hidden=true href=#pop-shell>#</a></h3><p><a href=https://github.com/pop-os/shell>Pop Shell</a>来源于基于Ubuntu的Pop!_OS，拥有非常好用的窗口自动平铺功能，会按照打开窗口的先后顺序以斐波那契数列形式在桌面上自动平铺。当然如果你愿意折腾，也可以使用awesome、i3wm等。</p><p>首先去下载它的release，之后安装TypeScript和Make：</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>sudo apt install node-typescript make
</span></span></code></pre></div><p>将release解压缩后在目录中执行</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>make local-install
</span></span></code></pre></div><p>安装完毕后，在右上角打开<code>Tile Windows</code>和<code>Show Active Hint</code>。</p><h3 id=清理启动引导项>清理启动引导项<a hidden class=anchor aria-hidden=true href=#清理启动引导项>#</a></h3><p>因为来回装了不少系统，因此efi启动引导项非常多，正好今天查了查怎么删除：使用<code>efibootmgr</code>。</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1</span><span>efibootmgr <span style=color:#586e75># 列出所有引导项</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2</span><span>efibootmgr -b xxxx -B <span style=color:#586e75># 删除序号为xxxx的引导项</span>
</span></span></code></pre></div><h2 id=后记>后记<a hidden class=anchor aria-hidden=true href=#后记>#</a></h2><p>虽然说本文内容不多，但是前前后后也是折腾了好几天，其间遇到各种细节问题，不胜枚举。有句话说得好：“Linux is free when your time is free”，此番过后也是深以为然。话又说回来，虽然历经坎坷，但过程中获得的快乐与成就感不会骗人。我想这就值得了。😄</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://woodencross.github.io/tags/linux/>Linux</a></li><li><a href=https://woodencross.github.io/tags/ubuntu/>Ubuntu</a></li></ul><nav class=paginav><a class=next href=https://woodencross.github.io/posts/life/enhanced-vaccine/><span class=title>下一页 »</span><br><span>打了加强针</span></a></nav></footer><script src=//cdn.jsdelivr.net/npm/@waline/client></script><div id=waline-container></div><script>const locale={placeholder:"登陆后才能评论哦~"};Waline({el:"#waline-container",serverURL:"https://waline4myblog-897ihl1ou-woodencross.vercel.app/",dark:"body.dark",visitor:!0,avatar:"retro",emoji:["https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/weibo","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tieba","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili"],login:"force",locale})</script></article></main><footer class=footer><span>&copy; 2022 <a href=https://woodencross.github.io/>Woodencross's Cyber Home</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="复制";function s(){e.innerText="已复制！",setTimeout(()=>{e.innerText="复制"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>